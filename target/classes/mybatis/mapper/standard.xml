<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="standard">


	<!-- 침탄로작업표준 목록 조회 -->
	<select id="getChimStandardList" parameterType="standard"
		resultType="standard">
		select ROW_NUMBER()OVER(ORDER BY CORP_NAME, PROD_NAME, PROD_NO) AS
		ROW_NUM ,
		CORP_NAME,
		PROD_NAME,
		PROD_GYU,
		PROD_NO,
		PROD_JAI,
		FAC_NAME,
		TECH_TE,
		WSTD_CODE,
		TECH_NO,
		PROD_DANJ,
		PROD_DANG,
		PROD_KIJONG,
		PROD_PG,
		PROD_PG1,
		PROD_PG2,
		PROD_SG,
		PROD_SG1,
		PROD_SG2,
		PROD_E1
		FROM vworkstd
		where 1=1
		<!-- <if test='wstd_gubn == "B"'>
			and WSTD_GUBN = 'B'
		</if>
		<if test='wstd_gubn == "P"'>
			and WSTD_GUBN = 'P'
		</if>
		<if test='wstd_gubn == "V"'>
			and WSTD_GUBN = 'V'
		</if>
		<if test='wstd_gubn == "S"'>
			and WSTD_GUBN = 'S'
		</if>
		<if test='wstd_gubn == "H"'>
			and WSTD_GUBN = 'H'
		</if>
		<if test='wstd_gubn == "J"'>
			and WSTD_GUBN = 'J'
		</if>
		<if test='wstd_gubn == "Y"'>
			and WSTD_GUBN = 'Y'
		</if>
		<if test='corp_name != null and corp_name != ""'>
			AND CORP_NAME LIKE CONCAT('%', #{corp_name}, '%')
		</if>
		<if test='prod_name != null and prod_name != ""'>
			AND PROD_NAME LIKE CONCAT('%', #{prod_name}, '%')
		</if>
		<if test='prod_no != null and prod_no != ""'>
			AND PROD_NO LIKE CONCAT('%', #{prod_no}, '%')
		</if>
		<if test='fac_name != null and fac_name != ""'>
			AND FAC_NAME LIKE CONCAT('%', #{fac_name}, '%')
		</if> -->
		order by CORP_NAME, PROD_NAME, PROD_NO
	</select>
	
	
	<insert id="chimStandardSave" parameterType="standard">
    	INSERT 
		  INTO WORKSTD 
		       ( 
		           WSTD_CODE, 
		           PROD_CODE, 
		           WSTD_G25, 
		           WSTD_G26, 
		           WSTD_G27, 
		           WSTD_G33, 
		           WSTD_T11, 
		           WSTD_T12, 
		           WSTD_T13, 
		           WSTD_T14, 
		           WSTD_T21, 
		           WSTD_T22, 
		           WSTD_T23, 
		           WSTD_T24,
		           WSTD_T30, 
		           WSTD_T31, 
		           WSTD_T32, 
		           WSTD_T33, 
		           WSTD_T34, 
		           WSTD_N05, 
		           WSTD_N06, 
		           WSTD_N07, 
		           WSTD_WORKNOTE, 
		           WSTD_T40, 
		           WSTD_T41, 
		           WSTD_T42, 
		           WSTD_T43, 
		           WSTD_T44, 
		           WSTD_T50, 
		           WSTD_T51, 
		           WSTD_T52, 
		           WSTD_T53, 
		           WSTD_T54, 
		           WSTD_N08, 
		           WSTD_T55, 
		           WSTD_T56, 
		           WSTD_T57, 
		           WSTD_T58, 
		           WSTD_T59, 
		           WSTD_T60, 
		           WSTD_T61, 
		           WSTD_READY, 
		           WSTD_WORKTIME, 
		           WSTD_T62, 
		           WSTD_T63, 
		           WSTD_T64, 
		           WSTD_T65, 
		           WSTD_N01, 
		           WSTD_N02, 
		           WSTD_T66, 
		           WSTD_N03, 
		           WSTD_N04, 
		           WSTD_T67, 
		           WSTD_G11, 
		           WSTD_G12, 
		           WSTD_G21, 
		           WSTD_G22, 
		           WSTD_G31, 
		           WSTD_G32, 
		           WSTD_G41, 
		           WSTD_G42, 
		           WSTD_T68, 
		           WSTD_T69, 
		           WSTD_T70, 
		           WSTD_T71, 
		           WSTD_T72, 
		           WSTD_T73,
				   WSTD_GUBN,
				   FAC_CODE,
				   REPORT_TYPE,
				   WSTD_NH3,
				   WSTD_T74,
				   WSTD_T75,
				   WSTD_T76,
				   WSTD_T77,
				   WSTD_TBD,
				   WSTD_TTT,
				   WSTD_TIG,
				   WSTD_THJ,
					  WSTD_GJ11,
					  WSTD_GJ12,
					  WSTD_GJ13,
					  WSTD_GJ14,
					  WSTD_GJ15,
					  WSTD_GJ16,
					  WSTD_GJ17,
					  WSTD_GJ18,
					  WSTD_GJ21,
					  WSTD_GJ22,
					  WSTD_GJ23,
					  WSTD_GJ24,
					  WSTD_GJ25,
					  WSTD_GJ26,
					  WSTD_GJ27,
					  WSTD_GJ28,
					  WSTD_GJ31,
					  WSTD_GJ32,
					  WSTD_GJ33,
					  WSTD_GJ34,
					  WSTD_GJ35,
					  WSTD_GJ36,
					  WSTD_GJ37,
					  WSTD_GJ38,
					  WSTD_GJ42,
					  WSTD_GJ43,
					  WSTD_GJ52,
					  WSTD_GJ53,
					  WSTD_GJ62,
					  WSTD_GJ63,
					  WSTD_GJ72,
					  WSTD_GJ73,
					  WSTD_GJ82,
					  WSTD_GJ83,
					  WSTD_GJSu,
					  WSTD_GJRpm,			
				      WSTD_GJ97,			
				      WSTD_GJ98,			
				      WSTD_GJ99,			
				      WSTD_GJ100,			
				      WSTD_GJ101,
				      FAC_CODE1,
				      FAC_CODE2,
				      WSTD_T87,
				      WSTD_GJ39,
				      WSTD_GJ44,
				      WSTD_GJ45,
				      WSTD_GJ49,
				      WSTD_GJ54,
				      WSTD_GJ55,
				      WSTD_GJ59,
				      WSTD_GJ64,
				      WSTD_GJ65,
				      WSTD_GJ69,
				      WSTD_GJ74,
				      WSTD_GJ75,
				      WSTD_GJ79,
				      WSTD_GJ84,
				      WSTD_GJ85,
				      FAC_CODE3
				      
		       ) 
		       VALUES 
		       ( 
		              (SELECT ISNULL(MAX(WSTD_CODE), 0)+1 
		                FROM WORKSTD 
		              ), 
		              #{prod_code}, 
		              #{wstd_g25}, 
		              #{wstd_g26}, 
		              #{wstd_g27}, 
		              #{wstd_g33}, 
		              #{wstd_t11}, 
		              #{wstd_t12}, 
		              #{wstd_t13}, 
		              #{wstd_t14}, 
		              #{wstd_t21}, 
		              #{wstd_t22}, 
		              #{wstd_t23}, 
		              #{wstd_t24}, 
		              #{wstd_t31}, 
		              #{wstd_t30}, 
		              #{wstd_t32}, 
		              #{wstd_t33}, 
		              #{wstd_t34}, 
		              #{wstd_n05}, 
		              #{wstd_n06}, 
		              #{wstd_n07}, 
		              #{wstd_worknote}, 
		              #{wstd_t40}, 
		              #{wstd_t41}, 
		              #{wstd_t42}, 
		              #{wstd_t43}, 
		              #{wstd_t44}, 
		              #{wstd_t50}, 
		              #{wstd_t51}, 
		              #{wstd_t52}, 
		              #{wstd_t53}, 
		              #{wstd_t54}, 
		              #{wstd_n08}, 
		              #{wstd_t55}, 
		              #{wstd_t56}, 
		              #{wstd_t57}, 
		              #{wstd_t58}, 
		              #{wstd_t59}, 
		              #{wstd_t60}, 
		              #{wstd_t61}, 
		              #{wstd_ready}, 
		              #{wstd_worktime}, 
		              #{wstd_t62}, 
		              #{wstd_t63}, 
		              #{wstd_t64}, 
		              #{wstd_t65}, 
		              #{wstd_n01}, 
		              #{wstd_n02}, 
		              #{wstd_t66}, 
		              #{wstd_n03}, 
		              #{wstd_n04}, 
		              #{wstd_t67}, 
		              #{wstd_g11}, 
		              #{wstd_g12}, 
		              #{wstd_g21}, 
		              #{wstd_g22}, 
		              #{wstd_g31}, 
		              #{wstd_g32}, 
		              #{wstd_g41}, 
		              #{wstd_g42}, 
		              #{wstd_t68}, 
		              #{wstd_t69}, 
		              #{wstd_t70}, 
		              #{wstd_t71}, 
		              #{wstd_t72}, 
		              #{wstd_t73},
					  'B',
					  #{fac_code},
					  #{report_type},
					  #{wstd_nh3},
					  #{wstd_t74},
					  #{wstd_t75},
					  #{wstd_t76},
					  #{wstd_t77},
					  #{wstd_tbd},
					  #{wstd_ttt},
					  #{wstd_tig},
					  #{wstd_thj},
						  #{wstd_gj11},
						  #{wstd_gj12},
						  #{wstd_gj13},
						  #{wstd_gj14},
						  #{wstd_gj15},
						  #{wstd_gj16},
						  #{wstd_gj17},
						  #{wstd_gj18},
						  #{wstd_gj21},
						  #{wstd_gj22},
						  #{wstd_gj23},
						  #{wstd_gj24},
						  #{wstd_gj25},
						  #{wstd_gj26},
						  #{wstd_gj27},
						  #{wstd_gj28},
						  #{wstd_gj31},
						  #{wstd_gj32},
						  #{wstd_gj33},
						  #{wstd_gj34},
						  #{wstd_gj35},
						  #{wstd_gj36},
						  #{wstd_gj37},
						  #{wstd_gj38},
						  #{wstd_gj42},
						  #{wstd_gj43},
						  #{wstd_gj52},
						  #{wstd_gj53},
						  #{wstd_gj62},
						  #{wstd_gj63},
						  #{wstd_gj72},
						  #{wstd_gj73},
						  #{wstd_gj82},
						  #{wstd_gj83},
						  #{wstd_gjsu},
						  #{wstd_gjrpm},
						  #{wstd_gj97},
						  #{wstd_gj98},
						  #{wstd_gj99},
						  #{wstd_gj100},
						  #{wstd_gj101},
						  #{fac_code1},
						  #{fac_code2},
						  #{wstd_t87},
						  #{wstd_gj39},
						  #{wstd_gj44},
						  #{wstd_gj45},
						  #{wstd_gj49},
						  #{wstd_gj54},
						  #{wstd_gj55},
						  #{wstd_gj59},
						  #{wstd_gj64},
						  #{wstd_gj65},
						  #{wstd_gj69},
						  #{wstd_gj74},
						  #{wstd_gj75},
						  #{wstd_gj79},
						  #{wstd_gj84},
						  #{wstd_gj85},
						  #{fac_code3}
						  						  			    						     			  
		          ) 
	</insert>

</mapper>