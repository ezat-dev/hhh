<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="standard">


	<!-- 침탄로작업표준 목록 조회 -->
	<select id="getChimStandardList" parameterType="standard"
		resultType="standard">
		select ROW_NUMBER()OVER(ORDER BY CORP_NAME, PROD_NAME, PROD_NO) AS
		ROW_NUM ,
		CORP_NAME,
		PROD_NAME,
		PROD_GYU,
		PROD_NO,
		PROD_JAI,
		FAC_NAME,
		TECH_TE,
		WSTD_CODE,
		TECH_NO,
		PROD_DANJ,
		PROD_DANG,
		PROD_KIJONG,
		PROD_PG,
		PROD_PG1,
		PROD_PG2,
		PROD_SG,
		PROD_SG1,
		PROD_SG2,
		PROD_E1
		FROM vworkstd
		where 1=1
		<!-- <if test='wstd_gubn == "B"'>
			and WSTD_GUBN = 'B'
		</if>
		<if test='wstd_gubn == "P"'>
			and WSTD_GUBN = 'P'
		</if>
		<if test='wstd_gubn == "V"'>
			and WSTD_GUBN = 'V'
		</if>
		<if test='wstd_gubn == "S"'>
			and WSTD_GUBN = 'S'
		</if>
		<if test='wstd_gubn == "H"'>
			and WSTD_GUBN = 'H'
		</if>
		<if test='wstd_gubn == "J"'>
			and WSTD_GUBN = 'J'
		</if>
		<if test='wstd_gubn == "Y"'>
			and WSTD_GUBN = 'Y'
		</if>
		<if test='corp_name != null and corp_name != ""'>
			AND CORP_NAME LIKE CONCAT('%', #{corp_name}, '%')
		</if>
		<if test='prod_name != null and prod_name != ""'>
			AND PROD_NAME LIKE CONCAT('%', #{prod_name}, '%')
		</if>
		<if test='prod_no != null and prod_no != ""'>
			AND PROD_NO LIKE CONCAT('%', #{prod_no}, '%')
		</if>
		<if test='fac_name != null and fac_name != ""'>
			AND FAC_NAME LIKE CONCAT('%', #{fac_name}, '%')
		</if> -->
		order by CORP_NAME, PROD_NAME, PROD_NO
	</select>
	
	
	<insert id="chimStandardSave" parameterType="standard">
    	INSERT 
		  INTO WORKSTD 
		       ( 
		           WSTD_CODE, 
		           PROD_CODE, 
		           WSTD_G25, 
		           WSTD_G26, 
		           WSTD_G27, 
		           WSTD_G33, 
		           WSTD_T11, 
		           WSTD_T12, 
		           WSTD_T13, 
		           WSTD_T14, 
		           WSTD_T21, 
		           WSTD_T22, 
		           WSTD_T23, 
		           WSTD_T24,
		           WSTD_T30, 
		           WSTD_T31, 
		           WSTD_T32, 
		           WSTD_T33, 
		           WSTD_T34, 
		           WSTD_N05, 
		           WSTD_N06, 
		           WSTD_N07, 
		           WSTD_WORKNOTE, 
		           WSTD_T40, 
		           WSTD_T41, 
		           WSTD_T42, 
		           WSTD_T43, 
		           WSTD_T44, 
		           WSTD_T50, 
		           WSTD_T51, 
		           WSTD_T52, 
		           WSTD_T53, 
		           WSTD_T54, 
		           WSTD_N08, 
		           WSTD_T55, 
		           WSTD_T56, 
		           WSTD_T57, 
		           WSTD_T58, 
		           WSTD_T59, 
		           WSTD_T60, 
		           WSTD_T61, 
		           WSTD_READY, 
		           WSTD_WORKTIME, 
		           WSTD_T62, 
		           WSTD_T63, 
		           WSTD_T64, 
		           WSTD_T65, 
		           WSTD_N01, 
		           WSTD_N02, 
		           WSTD_T66, 
		           WSTD_N03, 
		           WSTD_N04, 
		           WSTD_T67, 
		           WSTD_G11, 
		           WSTD_G12, 
		           WSTD_G21, 
		           WSTD_G22, 
		           WSTD_G31, 
		           WSTD_G32, 
		           WSTD_G41, 
		           WSTD_G42, 
		           WSTD_T68, 
		           WSTD_T69, 
		           WSTD_T70, 
		           WSTD_T71, 
		           WSTD_T72, 
		           WSTD_T73,
				   WSTD_GUBN,
				   FAC_CODE,
				   REPORT_TYPE,
				   WSTD_NH3,
				   WSTD_T74,
				   WSTD_T75,
				   WSTD_T76,
				   WSTD_T77,
				   WSTD_TBD,
				   WSTD_TTT,
				   WSTD_TIG,
				   WSTD_THJ,
					  WSTD_GJ11,
					  WSTD_GJ12,
					  WSTD_GJ13,
					  WSTD_GJ14,
					  WSTD_GJ15,
					  WSTD_GJ16,
					  WSTD_GJ17,
					  WSTD_GJ18,
					  WSTD_GJ21,
					  WSTD_GJ22,
					  WSTD_GJ23,
					  WSTD_GJ24,
					  WSTD_GJ25,
					  WSTD_GJ26,
					  WSTD_GJ27,
					  WSTD_GJ28,
					  WSTD_GJ31,
					  WSTD_GJ32,
					  WSTD_GJ33,
					  WSTD_GJ34,
					  WSTD_GJ35,
					  WSTD_GJ36,
					  WSTD_GJ37,
					  WSTD_GJ38,
					  WSTD_GJ42,
					  WSTD_GJ43,
					  WSTD_GJ52,
					  WSTD_GJ53,
					  WSTD_GJ62,
					  WSTD_GJ63,
					  WSTD_GJ72,
					  WSTD_GJ73,
					  WSTD_GJ82,
					  WSTD_GJ83,
					  WSTD_GJSu,
					  WSTD_GJRpm,			
				      WSTD_GJ97,			
				      WSTD_GJ98,			
				      WSTD_GJ99,			
				      WSTD_GJ100,			
				      WSTD_GJ101,
				      FAC_CODE1,
				      FAC_CODE2,
				      WSTD_T87,
				      WSTD_GJ39,
				      WSTD_GJ44,
				      WSTD_GJ45,
				      WSTD_GJ49,
				      WSTD_GJ54,
				      WSTD_GJ55,
				      WSTD_GJ59,
				      WSTD_GJ64,
				      WSTD_GJ65,
				      WSTD_GJ69,
				      WSTD_GJ74,
				      WSTD_GJ75,
				      WSTD_GJ79,
				      WSTD_GJ84,
				      WSTD_GJ85,
				      FAC_CODE3
				      
		       ) 
		       VALUES 
		       ( 
		              (SELECT ISNULL(MAX(WSTD_CODE), 0)+1 
		                FROM WORKSTD 
		              ), 
		              #{prodCode}, 
		              #{wstdG25}, 
		              #{wstdG26}, 
		              #{wstdG27}, 
		              #{wstdG33}, 
		              #{wstdT11}, 
		              #{wstdT12}, 
		              #{wstdT13}, 
		              #{wstdT14}, 
		              #{wstdT21}, 
		              #{wstdT22}, 
		              #{wstdT23}, 
		              #{wstdT24}, 
		              #{wstdT31}, 
		              #{wstdT30}, 
		              #{wstdT32}, 
		              #{wstdT33}, 
		              #{wstdT34}, 
		              #{wstdN05}, 
		              #{wstdN06}, 
		              #{wstdN07}, 
		              #{wstdWorkNote}, 
		              #{wstdT40}, 
		              #{wstdT41}, 
		              #{wstdT42}, 
		              #{wstdT43}, 
		              #{wstdT44}, 
		              #{wstdT50}, 
		              #{wstdT51}, 
		              #{wstdT52}, 
		              #{wstdT53}, 
		              #{wstdT54}, 
		              #{wstdN08}, 
		              #{wstdT55}, 
		              #{wstdT56}, 
		              #{wstdT57}, 
		              #{wstdT58}, 
		              #{wstdT59}, 
		              #{wstdT60}, 
		              #{wstdT61}, 
		              #{wstdReady}, 
		              #{wstdWorkTime}, 
		              #{wstdT62}, 
		              #{wstdT63}, 
		              #{wstdT64}, 
		              #{wstdT65}, 
		              #{wstdN01}, 
		              #{wstdN02}, 
		              #{wstdT66}, 
		              #{wstdN03}, 
		              #{wstdN04}, 
		              #{wstdT67}, 
		              #{wstdG11}, 
		              #{wstdG12}, 
		              #{wstdG21}, 
		              #{wstdG22}, 
		              #{wstdG31}, 
		              #{wstdG32}, 
		              #{wstdG41}, 
		              #{wstdG42}, 
		              #{wstdT68}, 
		              #{wstdT69}, 
		              #{wstdT70}, 
		              #{wstdT71}, 
		              #{wstdT72}, 
		              #{wstdT73},
					  'B',
					  #{facCode},
					  #{reportType},
					  #{wstdNh3},
					  #{wstdT74},
					  #{wstdT75},
					  #{wstdT76},
					  #{wstdT77},
					  #{wstdTbd},
					  #{wstdTtt},
					  #{wstdTig},
					  #{wstdThj},
						  #{wstdGJ11},
						  #{wstdGJ12},
						  #{wstdGJ13},
						  #{wstdGJ14},
						  #{wstdGJ15},
						  #{wstdGJ16},
						  #{wstdGJ17},
						  #{wstdGJ18},
						  #{wstdGJ21},
						  #{wstdGJ22},
						  #{wstdGJ23},
						  #{wstdGJ24},
						  #{wstdGJ25},
						  #{wstdGJ26},
						  #{wstdGJ27},
						  #{wstdGJ28},
						  #{wstdGJ31},
						  #{wstdGJ32},
						  #{wstdGJ33},
						  #{wstdGJ34},
						  #{wstdGJ35},
						  #{wstdGJ36},
						  #{wstdGJ37},
						  #{wstdGJ38},
						  #{wstdGJ42},
						  #{wstdGJ43},
						  #{wstdGJ52},
						  #{wstdGJ53},
						  #{wstdGJ62},
						  #{wstdGJ63},
						  #{wstdGJ72},
						  #{wstdGJ73},
						  #{wstdGJ82},
						  #{wstdGJ83},
						  #{wstdGJSu},
						  #{wstdGJRpm},
						  #{wstdGJ97},
						  #{wstdGJ98},
						  #{wstdGJ99},
						  #{wstdGJ100},
						  #{wstdGJ101},
						  #{facCode1},
						  #{facCode2},
						  #{wstdT87},
						  #{wstdGJ39},
						  #{wstdGJ44},
						  #{wstdGJ45},
						  #{wstdGJ49},
						  #{wstdGJ54},
						  #{wstdGJ55},
						  #{wstdGJ59},
						  #{wstdGJ64},
						  #{wstdGJ65},
						  #{wstdGJ69},
						  #{wstdGJ74},
						  #{wstdGJ75},
						  #{wstdGJ79},
						  #{wstdGJ84},
						  #{wstdGJ85},
						  #{facCode3}
						  						  			    						     			  
		          ) 
	</insert>

</mapper>